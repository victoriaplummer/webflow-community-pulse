@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================================================
   DESIGN TOKENS
   ========================================================================== */

@layer base {
  :root {
    /* --------------------------------
       Core Colors
    -------------------------------- */
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    /* --------------------------------
       Surface Colors (Cards, Popovers)
    -------------------------------- */
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    /* --------------------------------
       Interactive Colors
    -------------------------------- */
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    /* --------------------------------
       Semantic Colors
    -------------------------------- */
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    /* --------------------------------
       Form & Border Colors
    -------------------------------- */
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;

    /* --------------------------------
       Spacing & Radii
    -------------------------------- */
    --radius: 0.5rem;
  }

  .dark {
    /* --------------------------------
       Core Colors (Dark)
    -------------------------------- */
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    /* --------------------------------
       Surface Colors (Dark)
    -------------------------------- */
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    /* --------------------------------
       Interactive Colors (Dark)
    -------------------------------- */
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    /* --------------------------------
       Semantic Colors (Dark)
    -------------------------------- */
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    /* --------------------------------
       Form & Border Colors (Dark)
    -------------------------------- */
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
  }

  /* --------------------------------
     Base Element Styles
  -------------------------------- */
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
  }
}

/* ==========================================================================
   COMPONENT STYLES
   ========================================================================== */

@layer components {
  /* --------------------------------
     Layout Components
  -------------------------------- */
  .page-container {
    @apply container py-6;
  }

  .page-header {
    @apply flex items-center justify-between mb-6;
  }

  .page-title {
    @apply text-3xl font-bold tracking-tight;
  }

  .page-description {
    @apply text-muted-foreground;
  }

  /* --------------------------------
     App Header / Navigation
  -------------------------------- */
  .app-header {
    @apply sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur;
    @apply supports-[backdrop-filter]:bg-background/60;
  }

  .app-header-inner {
    @apply container flex h-14 items-center;
  }

  .app-logo {
    @apply mr-6 flex items-center space-x-2;
  }

  .app-logo-icon {
    @apply h-6 w-6;
  }

  .app-logo-text {
    @apply font-bold;
  }

  .app-nav {
    @apply flex items-center space-x-6 text-sm font-medium;
  }

  .app-nav-link {
    @apply transition-colors hover:text-foreground/80 text-foreground/60;
  }

  .app-nav-link--active {
    @apply text-foreground;
  }

  /* --------------------------------
     Footer
  -------------------------------- */
  .app-footer {
    @apply border-t py-6 md:py-0;
  }

  .app-footer-inner {
    @apply container flex flex-col items-center justify-between gap-4 md:h-14 md:flex-row;
  }

  .app-footer-text {
    @apply text-center text-sm leading-loose text-muted-foreground md:text-left;
  }

  /* --------------------------------
     Cards & Panels
  -------------------------------- */
  .content-card {
    @apply border rounded-lg p-4 transition-colors;
  }

  .content-card--interactive {
    @apply cursor-pointer hover:border-primary/50 hover:shadow-sm;
  }

  .content-card--selected {
    @apply border-primary bg-primary/5;
  }

  .sidebar-card {
    @apply lg:w-72 flex-shrink-0;
  }

  /* --------------------------------
     Data Display
  -------------------------------- */
  .stat-value {
    @apply text-2xl font-bold;
  }

  .stat-label {
    @apply text-xs text-muted-foreground;
  }

  .stat-grid {
    @apply grid gap-4 md:grid-cols-2 lg:grid-cols-4;
  }

  /* --------------------------------
     Lists & Items
  -------------------------------- */
  .item-row {
    @apply flex items-center justify-between;
  }

  .item-list {
    @apply space-y-2;
  }

  .item-list--scrollable {
    @apply max-h-64 overflow-y-auto;
  }

  /* --------------------------------
     Filter Components
  -------------------------------- */
  .filter-section {
    @apply space-y-2;
  }

  .filter-label {
    @apply text-sm font-medium;
  }

  .filter-checkbox-list {
    @apply space-y-1 max-h-64 overflow-y-auto border rounded-md p-2;
  }

  .filter-checkbox-item {
    @apply flex items-center space-x-2 cursor-pointer hover:bg-muted/50 p-1.5 rounded;
  }

  /* --------------------------------
     Progress Bars & Indicators
  -------------------------------- */
  .progress-bar {
    @apply flex-1 bg-gray-100 rounded-full h-4 overflow-hidden;
  }

  .progress-bar-fill {
    @apply h-full transition-all duration-300;
  }

  .progress-bar-fill--positive {
    @apply bg-green-500;
  }

  .progress-bar-fill--neutral {
    @apply bg-gray-400;
  }

  .progress-bar-fill--negative {
    @apply bg-red-500;
  }

  /* --------------------------------
     Links & Actions
  -------------------------------- */
  .external-link {
    @apply hover:underline flex items-center gap-1;
  }

  .external-link-icon {
    @apply h-3 w-3 shrink-0;
  }

  /* --------------------------------
     Loading States
  -------------------------------- */
  .loading-spinner {
    @apply h-8 w-8 animate-spin text-muted-foreground;
  }

  .loading-container {
    @apply flex items-center justify-center h-64;
  }

  .loading-container--inline {
    @apply flex items-center justify-center py-8;
  }

  /* --------------------------------
     Empty States
  -------------------------------- */
  .empty-state {
    @apply flex flex-col items-center justify-center py-12 text-center;
  }

  .empty-state-icon {
    @apply h-12 w-12 text-muted-foreground mb-4;
  }

  .empty-state-title {
    @apply text-lg font-medium mb-2;
  }

  .empty-state-description {
    @apply text-sm text-muted-foreground max-w-md;
  }

  /* --------------------------------
     Tables
  -------------------------------- */
  .data-table-container {
    @apply border rounded-lg overflow-x-auto;
  }

  .sortable-header {
    @apply cursor-pointer hover:bg-muted/50;
  }

  /* --------------------------------
     Chat / Messages
  -------------------------------- */
  .chat-container {
    @apply space-y-3 max-h-96 overflow-y-auto p-4 bg-muted/30 rounded-lg;
  }

  .chat-message {
    @apply flex gap-3;
  }

  .chat-message--user {
    @apply justify-end;
  }

  .chat-message--assistant {
    @apply justify-start;
  }

  .chat-avatar {
    @apply h-8 w-8 rounded-full flex items-center justify-center shrink-0;
  }

  .chat-avatar--user {
    @apply bg-primary/10;
  }

  .chat-avatar--assistant {
    @apply bg-blue-100;
  }

  .chat-bubble {
    @apply rounded-lg px-4 py-2 max-w-[80%];
  }

  .chat-bubble--user {
    @apply bg-primary text-primary-foreground;
  }

  .chat-bubble--assistant {
    @apply bg-background border;
  }

  /* --------------------------------
     Insight Cards
  -------------------------------- */
  .insight-card {
    @apply border rounded-lg p-4;
  }

  .insight-card--pain-points {
    @apply bg-red-50 border-red-200;
  }

  .insight-card--feature-requests {
    @apply bg-yellow-50 border-yellow-200;
  }

  .insight-card--opportunities {
    @apply bg-blue-50 border-blue-200;
  }

  .insight-card--highlights {
    @apply bg-purple-50 border-purple-200;
  }

  .insight-card--trends {
    @apply bg-green-50 border-green-200;
  }

  /* --------------------------------
     Contributor Cards
  -------------------------------- */
  .contributor-rank {
    @apply flex h-10 w-10 items-center justify-center rounded-full;
  }

  .contributor-rank--top {
    @apply bg-primary text-primary-foreground;
  }

  .contributor-rank--default {
    @apply bg-muted;
  }

  .contributor-stats {
    @apply grid grid-cols-3 gap-2 text-center;
  }

  /* --------------------------------
     Showcase Items
  -------------------------------- */
  .showcase-item {
    @apply border rounded-lg p-4 hover:border-purple-200 transition-colors relative group;
  }

  .showcase-actions {
    @apply absolute top-2 right-2 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-all;
  }

  /* --------------------------------
     Roundup Items
  -------------------------------- */
  .roundup-item {
    @apply flex items-center gap-2 p-2 border rounded text-sm;
  }

  .roundup-item--starred {
    @apply bg-yellow-50/50;
  }

  /* --------------------------------
     Authorization Banner
  -------------------------------- */
  .auth-banner {
    @apply border-orange-200 bg-orange-50;
  }

  .auth-banner-title {
    @apply text-lg text-orange-800;
  }

  .auth-banner-description {
    @apply text-orange-700;
  }

  .auth-banner-button {
    @apply inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium;
    @apply bg-orange-600 text-white hover:bg-orange-700 h-10 px-4 py-2 gap-2;
  }
}

/* ==========================================================================
   UTILITY EXTENSIONS
   ========================================================================== */

@layer utilities {
  /* --------------------------------
     Sentiment Colors
  -------------------------------- */
  .sentiment-positive {
    @apply bg-green-100 text-green-800;
  }

  .sentiment-neutral {
    @apply bg-gray-100 text-gray-800;
  }

  .sentiment-negative {
    @apply bg-red-100 text-red-800;
  }

  /* --------------------------------
     Classification Colors
  -------------------------------- */
  .classification-question {
    @apply bg-blue-100 text-blue-800;
  }

  .classification-showcase {
    @apply bg-purple-100 text-purple-800;
  }

  .classification-tutorial {
    @apply bg-green-100 text-green-800;
  }

  .classification-resource {
    @apply bg-teal-100 text-teal-800;
  }

  .classification-feedback {
    @apply bg-yellow-100 text-yellow-800;
  }

  .classification-discussion {
    @apply bg-gray-100 text-gray-800;
  }

  .classification-announcement {
    @apply bg-indigo-100 text-indigo-800;
  }

  .classification-rant {
    @apply bg-red-100 text-red-800;
  }

  .classification-spam {
    @apply bg-red-200 text-red-900;
  }

  /* --------------------------------
     Priority Colors
  -------------------------------- */
  .priority-high {
    @apply bg-red-100 text-red-800;
  }

  .priority-medium {
    @apply bg-yellow-100 text-yellow-800;
  }

  .priority-low {
    @apply bg-gray-100 text-gray-800;
  }

  /* --------------------------------
     Icon Colors (Semantic)
  -------------------------------- */
  .icon-positive {
    @apply text-green-500;
  }

  .icon-warning {
    @apply text-yellow-500;
  }

  .icon-danger {
    @apply text-red-500;
  }

  .icon-info {
    @apply text-blue-500;
  }

  .icon-purple {
    @apply text-purple-500;
  }

  /* --------------------------------
     Quality Star Indicators
  -------------------------------- */
  .star-high {
    @apply text-yellow-500 fill-yellow-500;
  }

  .star-medium {
    @apply text-yellow-500;
  }

  .star-low {
    @apply text-gray-300;
  }

  /* --------------------------------
     Text Utilities
  -------------------------------- */
  .text-truncate-2 {
    @apply line-clamp-2;
  }

  .text-truncate-3 {
    @apply line-clamp-3;
  }

  /* --------------------------------
     Responsive Visibility
  -------------------------------- */
  .show-sm {
    @apply hidden sm:inline;
  }

  .hide-sm {
    @apply inline sm:hidden;
  }
}
